const urlShow="//api.tvmaze.com/search/shows?q=",userText=document.querySelector(".js-user-search"),button=document.querySelector(".js-button"),result=document.querySelector(".js-result"),totalUlFav=document.querySelector(".js-shows-listFav");let totalSeries=[],listFav=[];function listenNowseries(){const e=document.querySelectorAll(".js-list");for(const t of e)t.addEventListener("click",favoritesChanges)}function favoritesChanges(e){e.currentTarget;const t=e.currentTarget;t.classList.toggle("changeColor"),currentSelect2=parseInt(t.id);if(void 0===listFav.find(e=>e.show.id===currentSelect2)){const e=totalSeries.find(e=>e.show.id===currentSelect2);listFav.push(e)}paintFavoritesTotal()}function paintFavoritesTotal(){let e="";totalUlFav.innerHTML="";for(const t of listFav){e+=`<li class="js-list" id="${t.show.id}">`,e+=t.show.name+":</br>";null===t.show.image?e='<img class= "image-js-replace" src= https://www.panatier.es/web/image/product.template/7363/image?unique=d772d4f"></img>"':e+=`<img class= "image-js-replace" src="${t.show.image.medium}"/>`,e+="</li>"}totalUlFav.innerHTML=e}function saveLS(){localStorage.setItem("favorites",JSON.stringify(listFav))}console.log(localStorage);let favorites=[];function searchShows(){const e=userText.value;fetch(urlShow+e).then(e=>e.json()).then(e=>{totalSeries=e,0===e.length?result.innerHTML="No hay resultados en tu b√∫squeda":result.innerHTML="Pincha para guardar en favoritos</br>";for(const e of totalSeries){let t="";t+=`<li class="js-list" id="${e.show.id}">`,t+=e.show.name+":</br>";null===e.show.image?t='<img class= "image-js-replace" src= https://www.panatier.es/web/image/product.template/7363/image?unique=d772d4f"></img>"':t+=`<img class= "image-js-replace" src="${e.show.image.medium}"/>`,t+="</li>",result.innerHTML+=t}listenNowseries(),console.log(totalSeries)})}button.addEventListener("click",searchShows);const reloadButton=document.getElementById("#reload");function reload(){location.reload()}reloadButton.addEventListener("click",reload,!1);